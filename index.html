<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Amor</title>
    <!-- Agrega los scripts de Firebase -->
    <script type="module">
        // Importa las funciones necesarias desde los SDKs
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-analytics.js";

        // ConfiguraciÃ³n de Firebase
        const firebaseConfig = {
          apiKey: "AIzaSyATDUDWr5nG8XtUiipsSJzdS9F581qdZYs",
          authDomain: "base-de-datos-amor.firebaseapp.com",
          projectId: "base-de-datos-amor",
          storageBucket: "base-de-datos-amor.appspot.com",
          messagingSenderId: "271807318249",
          appId: "1:271807318249:web:9bc99c38dab283da9bc878",
          measurementId: "G-D24ZP1MHCJ"
        };

        // Inicializa Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const analytics = getAnalytics(app);

        // Maneja el formulario
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('mi-formulario');
            form.addEventListener('submit', async (event) => {
                event.preventDefault();

                const porcentajeAmor = document.getElementById('porcentaje_amor').value;

                try {
                    await addDoc(collection(db, 'niveles_amor'), {
                        porcentaje: porcentajeAmor
                    });
                    alert('Nivel de amor guardado exitosamente');
                } catch (error) {
                    console.error('Error al guardar el dato:', error);
                }
            });
        });
    </script>
</head>
<body>
    <h1>Formulario de Amor</h1>
    <form id="mi-formulario">
        <input type="text" id="porcentaje_amor" name="porcentaje_amor" placeholder="Porcentaje de amor" required>
        <button type="submit">Enviar</button>
    </form>
</body>
</html>